# AHME (AI Hybrid Minimal Editor) - FIX版

AHMEは、「軽量・爆速・プライバシー重視」の哲学に基づいて開発された、ローカルAI統合型の究極の執筆コックピットです。
ElectronとNext.jsのハイブリッド構成により、ネイティブアプリの軽快さとWeb技術の柔軟性を両立し、思考を一切止めないシームレスなUI/UXを実現しています。

## ✨ コア機能 (Core Features)

* **🧠 ローカルAIの完全統合 (Ollama連携)**
  * `gemma3:12b` 等の強力なローカルLLMをバックエンドに採用。オフラインでもセキュアかつ高速なAIチャット・文章生成が可能です。
* **👁️ マルチモーダル画像認識**
  * チャット欄への画像のドラッグ＆ドロップに対応。画像をクライアントサイドでBase64変換し、サーバー負荷をゼロに抑えつつ、テキストと画像を高次元で同時に解析します。
* **📚 外部記憶とRAG (Retrieval-Augmented Generation)**
  * PDFやテキストファイルをドロップするだけで、その内容をコンテキストとして保持。論文や長文資料を参照しながらの高度な執筆をサポートします。
* **🌐 爆速Web検索統合 (Tavily API)**
  * 「3秒のハードタイムアウト」を備えた堅牢なWeb検索機能を搭載。AIが最新情報を取得しつつ、APIの遅延によってエディタがフリーズする事態を完全に防ぎます。
* **⚡ 思考を止めないシームレスなUX (Monaco Editor拡張)**
  * **なぞって挿入:** チャットのAI回答を選択すると「エディタに挿入」ボタンが最前面に出現し、ワンクリックで本文へ反映。
  * **OSネイティブなコンテキストメニュー:** エディタ・チャット両方の右クリックメニューを拡張。「コピー」や「Google検索（OSデフォルトブラウザ起動）」を実装し、エディタから離脱せずに調査が可能です。
  * **状態記憶:** 文字サイズや、左右パネルの分割比率を `localStorage` とマウント待機パターンで完全に記憶。次回起動時も一瞬で「いつもの環境」が復元されます。

## 🛠️ 技術スタック (Tech Stack)

* **フロントエンド:** Next.js (App Router), React, Tailwind CSS
* **エディタエンジン:** Monaco Editor (`@monaco-editor/react`)
* **バックエンド / デスクトップ:** Electron (IPC通信によるセキュアなウィンドウ・ブラウザ制御)
* **AI・検索エンジン:** Ollama (ローカルLLM API), Tavily Search API
* **UIコンポーネント:** `react-resizable-panels` (状態記憶対応)

## 🚀 セットアップと起動 (Setup & Run)

1. **前提条件**
   * Node.js がインストールされていること。
   * Ollama がインストールされ、`gemma3:12b` (または任意のモデル) がプルされていること。

2. **環境変数の設定**
   プロジェクトルートに `.env.local` ファイルを作成し、Tavily APIキーを設定します。
   ```env
   TAVILY_API_KEY=tvly-your_api_key_here

3.依存パッケージのインストール
npm install

4.開発モードでの起動
Next.jsサーバーとElectronプロセスを同時に起動します。
npm run dev:all
